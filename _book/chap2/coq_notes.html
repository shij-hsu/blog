
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Notes about Coq Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../chap1/">
            
                <a href="../chap1/">
            
                    
                    Plotics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../chap1/election.html">
            
                <a href="../chap1/election.html">
            
                    
                    American Presidential Election
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../chap1/elder_circles.html">
            
                <a href="../chap1/elder_circles.html">
            
                    
                    Toad's 5 circles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../chap1/our_country.html">
            
                <a href="../chap1/our_country.html">
            
                    
                    Our country
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="./">
            
                <a href="./">
            
                    
                    Notes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.3.1" data-path="coq_notes.html">
            
                <a href="coq_notes.html">
            
                    
                    Notes about Coq
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Notes about Coq</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="notes-about-coqs">Notes about Coq&apos;s</h2>
<p>[TOC]</p>
<h3 id="return">return</h3>
<pre><code>(* ProofByReflection.v *)
Definition partialOut (P:Prop) (x:[P]) :=
match x return (match x with
            | Proved _ =&gt;P
            | Uncertain =&gt;True
            end) with
| Proved pf =&gt; pf
| Uncertain =&gt; I
end.
</code></pre><p>This keyword is used to determined the return <strong>type</strong> of the <em>[match ... with ... end]</em> syntax. Usually, a function has only one return type, but sometimes we need to definition e.g.-like functions, their return type is not unique, so we use <code>return</code> to declarate their vary return types.</p>
<h3 id="hint">Hint</h3>
<blockquote>
<p>Hint Resolve length_O length_S.</p>
</blockquote>
<p>We can apply these hints to prove something with <code>auto</code>. <code>Resolve</code> and <code>Immediate</code> have the same meaning for a premise-free hint.</p>
<blockquote>
<p>Hint Extern 1 (sum <em> = </em>) =&gt; simpl.</p>
</blockquote>
<p>The command to register a custom hint. That is, we provide a pattern to match against goals during proof search. Whenever the pattern matches, a tactic (given to the right of an arrow =&gt;) is attempted. Below, the number 1 gives a priority for this step. Lower priority are tried before higher priorities, which can have a significant effect on proof search time.</p>
<h3 id="decide-equality">decide equality</h3>
<p>This tactic solves a goal of form <code>forall x y:R, {x=y}+{~x=y}</code>, where R is an inductive type such that its constructors do not take proofs or functinos as arguments, nor objects in dependent types.</p>
<h3 id="compare-term1-term1">compare term1 term1</h3>
<p>This tactic compares two given objects <code>term1</code> and <code>term2</code> of an inductive datatype. If G is the current goal, it leaves the sub-goals <code>term1 = term2 -&gt; G</code> and <code>~term1 = term2 -&gt; G</code>. The type of <code>term1</code> and <code>term2</code> must satisfy the same restrictions as in the tactic decide equality.</p>
<h3 id="congruence">congruence</h3>
<pre><code>Coq &lt; intros.
1 subgoal
H : a = f a
H0 : g b (f a) = f (f a)

H1 : g a b = f (g b a)
============================
g a b = a
Coq &lt; congruence.
No more subgoals.
</code></pre><p><em>congruence tries to prove that a hypothesis is equal to the goal or to the negation of another hypothesis.</em> So it likes repeating rewrite tactics?</p>
<h3 id="autorewrite">autorewrite</h3>
<p>See the code in coq/tac/autorewrite.v</p>
<p>Tactic <code>autorewrite with db in *</code> does rewriting in hypothesis, as well as in the conclusion. See it in coq/cpdt/ProofSearchByLP.v.</p>
<h3 id="">||</h3>
<p>See the code also in coq/tac/autorewrite.v. </p>
<p>Tactic <code>exp1 || exp2</code> is equivalent to <code>first [progress exp1 | progress exp2]</code>.</p>
<h3 id="specialize">specialize</h3>
<p><code>specialize (ident term1 term2 ... termn)</code> is equivalent to <code>assert(ident&apos; := ident term1 term2 ... termn); clear ident; rename ident&apos; into ident</code></p>
<h3 id="idtac">idtac</h3>
<p>What the fuck tactic means? I think it&apos;s trivial.</p>
<h3 id="fail">fail</h3>
<p>It always fail. It is useful for defining other tacticals since it can be caught by try, repeat, match goal, or the branching tacticals. The fail tactic will, however, succeed if all the goals have already been solved.</p>
<p><code>fail n</code>, the number n is failure level.</p>
<h3 id="solve">solve</h3>
<p><code>solve [exp1 | exp2 | ... |expn]</code> use tactics <code>expi</code> to solve the goal by order. If all the tactics fail, the tactic fail.</p>
<h3 id="search">search</h3>
<p>This command displays the name and type of all objects (hypothesis of the current goal, theorems, axioms, etc) of the current context  whose statement contains qualid . This command is useful to remind
the user of the name of library lemmas.</p>
<h3 id="fresh">fresh</h3>
<p><em>The expression <code>fresh component .. component</code> returns an identifier, it evaluates to an identifier unbound in the goal.</em></p>
<p><strong>What does it mean???</strong>  WHY follow code is wrong in Coq?</p>
<pre><code>Theorem t5&apos; : (forall x:nat, S x &gt; x ) -&gt; 2 &gt; 1.
  intros H.
  let H&apos;:=fresh &quot;H&quot; in apply (H&apos; 1).
  ------------------------------------------
  Error: The variable H0 was not found in the current environment.
</code></pre><h3 id="instance">Instance</h3>
<p>The Instance command is used to declare a type class instance named ident of the class Class with parameters t 1 to t n and fields b 1 to b i , where each field must be a declared field of the class.</p>
<pre><code>Instance LS: listspec _list _tail.
Proof. eapply mk_listspec; reflexivity. Defined.
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Notes">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Notes about Coq","level":"1.3.1","depth":2,"previous":{"title":"Notes","level":"1.3","depth":1,"path":"chap2/README.md","ref":"chap2/README.md","articles":[{"title":"Notes about Coq","level":"1.3.1","depth":2,"path":"chap2/coq_notes.md","ref":"chap2/coq_notes.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"ignoreSpecialCharacters":false,"maxIndexSize":1000000},"sharing":{"all":["facebook","google","instapaper","twitter","weibo"],"facebook":true,"google":false,"instapaper":false,"twitter":true,"vk":false,"weibo":false},"fontsettings":{"family":"sans","size":2,"theme":"white"},"theme-default":{"showLevel":false,"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}},"file":{"path":"chap2/coq_notes.md","mtime":"2017-01-01T22:07:32.188Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-01-01T16:01:45.866Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

